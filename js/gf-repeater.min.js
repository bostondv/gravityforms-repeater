function gfRepeater_getRepeaters(){var e=!1;jQuery(".gform_wrapper").has(".ginput_container_repeater").each(function(){var t,r,a,i={},n=this.id.split("_")[2],o=jQuery(this).children("form").first(),p=0,s=0,d=0,u=0,l=null,c={},f={},g={},_={};return"/ajax-test"==jQuery(o).attr("action")&&jQuery(o).removeAttr("action"),jQuery(this).siblings("#gform_ajax_frame_"+n).length?(e=!0,!1):(jQuery(this).find(".gfield").each(function(){if(0==s)jQuery(this).has(".ginput_container_repeater").length&&(p+=1,startId=jQuery(this).attr("id"),a=Number(startId.split("_")[2]),gfRepeater_debug&&console.log("Form #"+n+" - Repeater #"+p+" - Start: "+startId),r=jQuery(this),t=r.find(".gform_repeater"),c=jQuery(t).val(),c&&(c=JSON.parse(c)),jQuery.captures()&&(_=jQuery.captures(t.attr("name")),_&&(_=JSON.parse(_),1==p&&_.formId==n&&(gfRepeater_submitted=!0))),1==p&&jQuery(o).capture(),s=1);else{if(jQuery(this).has(".ginput_container_repeater").length)return e=!0,!1;if(jQuery(this).has(".ginput_container_repeater-end").length){endId=jQuery(this).attr("id"),endIdNum=Number(endId.split("_")[2]),gfRepeater_debug&&(console.log("Form #"+n+" - Repeater #"+p+" - End: "+endId),console.log("Form #"+n+" - Repeater #"+p+" - Children Found: "+d)),jQuery(o).trigger("gform_repeater_init_done",[p,1]);var h={},y=jQuery(this),R=y.find(".gf_repeater_add"),m=y.find(".gf_repeater_remove"),j="gfRepeater_repeatRepeater("+n+","+p+");",v="gfRepeater_unrepeatRepeater("+n+","+p+");";jQuery(R).attr({onclick:j,onkeypress:j}),jQuery(m).attr({onclick:v,onkeypress:v}),h={add:R,remove:m,data:t,start:r,end:y};var Q={},b=Number(c.start),C=Number(c.min),I=Number(c.max);(!b||I&&b>I)&&(b=1),(!C||I&&C>I)&&(C=1),(!I||C&&I&&C>I)&&(I=null);var k={add:{"class":"",css:{opacity:0},properties:{opacity:1},options:{duration:300}},remove:{"class":"",css:{opacity:1},properties:{opacity:0},options:{duration:200}}};if(c.animations)var x=jQuery.merge(k,c.animations);else var x=k;Q={start:b,min:C,max:I,animations:x};var w={},N=Number(t.attr("tabindex")),A=null;gfRepeater_submitted&&_&&(A=_.repeatCount),w={repeatCount:1,prevRepeatCount:A,childrenCount:d,paremCount:u,tabIndex:N,inputData:g,startIdNum:a,endIdNum:endIdNum},i[p]={data:w,settings:Q,controllers:h,children:f},s=0,d=0,u=0,l=null,f={},g={},repeaterChildrenPrePopulate={},repeaterRequiredChildren=null}else{d+=1;var L,E,S,V,D,F=jQuery(this),q=(jQuery(this).children(".gfield_label").text(),jQuery(this).attr("id")),O=q.split("_")[2],P={},T=[],B=0,J=!1,M=c.children[O],U=l;if(jQuery(this).has(".ginput_container").length){var z=jQuery(this).find(".ginput_container").attr("class").split(/\s+/),G="ginput_container_";jQuery.each(z,function(e,t){t.slice(0,G.length)==G&&(L=t.slice(G.length,t.length))})}else jQuery(this).hasClass("gform_hidden")?L="hidden":jQuery(this).hasClass("gsection")&&(L="section");"section"==L&&(l=d,U=null),M.required&&(J=!0),M.inputMask&&(E=M.inputMask),M.maxLength&&(V=M.maxLength),M.enableEnhancedUI&&(D=M.enableEnhancedUI),M.conditionalLogic&&(S=M.conditionalLogic,S.skip=[]),gfRepeater_debug&&console.log("Form #"+n+" - Repeater #"+p+" - Child #"+d+" - Found: "+q),jQuery(this).find(":input").each(function(){B+=1;var e,t=jQuery(this),r=jQuery(this).attr("id"),a=jQuery(this).attr("name"),i=gfRepeater_getInputValue(t),o={};a&&(-1==jQuery.inArray(a,T)&&T.push(a),e="[]"==a.slice(-2)?a.slice(0,a.length-2):a,M.prePopulate&&(o=M.prePopulate,o&&jQuery.each(o,function(e,t){e>u&&(u=Number(e))}))),P[B]={element:t,id:r,name:a,defaultValue:i,prePopulate:o},gfRepeater_debug&&console.log("Form #"+n+" - Repeater #"+p+" - Child #"+d+" - Input Found: "+r)}),f[d]={element:F,id:q,idNum:O,inputs:P,inputCount:B,required:J,type:L,inputMask:E,conditionalLogic:S,parentSection:U,maxLength:V,enableEnhancedUI:D},g[O]=T}}}),gfRepeater_debug&&console.log("Form #"+n+" - Repeaters Found: "+p),0!==s?(e=!0,!1):jQuery.isEmptyObject(i)?(e=!0,!1):(gfRepeater_repeaters[n]=i,!0))});return e?!1:!0}function gfRepeater_setRepeaterChildAttrs(e,t,r,a){var i=gfRepeater_repeaters[e][t];if(!a)var a=i.data.repeatCount+1;var n=jQuery(r).attr("id").split("-")[0],o=gfRepeater_getIndex(i.children,"id",n),p=jQuery("#gform_wrapper_"+e).hasClass("gform_validation_error");if(o){var s=!1,d=i.children[o],u=d.required,l=d.type,c=d.inputCount,f=d.inputMask,g=d.maxLength,_=d.enableEnhancedUI,h=i.data.tabIndex,y=n+"-"+t+"-"+a;jQuery(r).attr("id",y).attr("data-repeater-parentId",t).attr("data-repeater-repeatId",a).attr("data-repeater-childId",o).addClass("gf_repeater_child_field"),gfRepeater_replaceShortcodes(r),gfRepeater_doShortcode(r,"count",a),gfRepeater_doShortcode(r,"buttons",i.controllers.add.parent().clone()),gfRepeater_doShortcode(r,"add",i.controllers.add.clone()),gfRepeater_doShortcode(r,"remove",i.controllers.remove.clone());var R="gfRepeater_unrepeatRepeater("+e+","+t+","+a+");";if(jQuery(r).find(".gf_repeater_remove").attr({onclick:R,onkeypress:R}).show(),jQuery(r).find(".gf_repeater_add").show(),jQuery(r).find(".ginput_counter").remove(),jQuery.each(i.children[o].inputs,function(e,n){var o=this.id,p=this.name,d="";if("radio"==l||"time"==l)var y=gfRepeater_findElementByNameOrId(r,null,o);else var y=gfRepeater_findElementByNameOrId(r,p,o);if(y.attr("data-repeater-inputId",e),o){var R=o+"-"+t+"-"+a;jQuery(y).attr("id",R),jQuery(r).find("label[for^='"+o+"']").attr("for",R)}if(p){if("[]"==p.slice(-2))var m=p.slice(0,p.length-2)+"-"+t+"-"+a+"[]";else var m=p+"-"+t+"-"+a;jQuery(y).attr("name",m),h&&jQuery(y).attr("tabindex",h)}if(f&&jQuery(y).mask(f),this.prePopulate[a]?d=this.prePopulate[a]:this.prePopulate[0]&&(d=this.prePopulate[0]),d&&(("checkbox"==l||"radio"==l)&&(prePopulateValues=d.split(","),d=-1!==jQuery.inArray(e,prePopulateValues)?!0:!1),gfRepeater_setInputValue(y,d)),window.gformInitDatepicker&&"date"==l&&2==c&&1==e&&jQuery(y).removeClass("hasDatepicker").datepicker("destroy").siblings(".ui-datepicker-trigger").remove(),g&&jQuery(y).textareaCount({maxCharacterSize:g,originalStyle:"ginput_counter",displayFormat:"#input of #max max characters"}),_){var j=jQuery(y).css("width");jQuery(y).css("width",j).show().siblings(".chosen-container").remove(),jQuery(y).chosen({width:j})}if(gfRepeater_submitted){if(m){var v=jQuery.captures(m);v&&gfRepeater_setInputValue(y,v)}if(u){if(m){var Q=m.replace(".","_").split(/(_|-)/);if("name"==l&&-1==jQuery.inArray(Q[4],["3","6"]))return!0;if("address"==l&&-1!==jQuery.inArray(Q[4],["2"]))return!0}var b=gfRepeater_getInputValue(y);!b&&a<=i.data.prevRepeatCount&&(s=!0)}}}),u){var m=r.children(".gfield_label");r.addClass("gfield_contains_required"),m.has(".gfield_required").length||m.append('<span class="gfield_required">*</span>'),gfRepeater_submitted&&p&&(s?(r.addClass("gfield_error"),r.has(".validation_message").length||r.append('<div class="gfield_description validation_message">This field is required.</div>')):r.removeClass("gfield_error").find(".validation_message").remove())}}}function gfRepeater_resetRepeaterChildrenAttrs(e,t){var r=gfRepeater_select(e,t),a=0;jQuery(r).each(function(){1==jQuery(this).attr("data-repeater-childid")&&(a+=1),jQuery(this).attr("data-repeater-repeatid")!==a&&gfRepeater_setRepeaterChildAttrs(e,t,jQuery(this),a)})}function gfRepeater_conditionalLogic_set(e,t,r,a){gfRepeater_conditionalLogic_do(e,t,r,a);var i=gfRepeater_repeaters[e][t],n=i.children[r],o=n.conditionalLogic;jQuery.each(o.rules,function(n,o){var p=o.fieldId,s=gfRepeater_getIndex(i.children,"idNum",p);if(s!==!1)var d=gfRepeater_select(e,t,a,s,"*");else{var d=jQuery("#field_"+e+"_"+p+" :input");a=null}jQuery.each(d,function(i,n){jQuery(this).bind("propertychange change click keyup input paste",function(){gfRepeater_conditionalLogic_do(e,t,r,a)})})})}function gfRepeater_conditionalLogic_setAll(e,t,r){var a=gfRepeater_repeaters[e][t];jQuery.each(a.children,function(a,i){this.conditionalLogic&&gfRepeater_conditionalLogic_set(e,t,a,r)})}function gfRepeater_conditionalLogic_do(e,t,r,a){var i=gfRepeater_repeaters[e][t],n=i.children[r],o=n.conditionalLogic,p=[r],s=[],d=!1,u=!1;if(jQuery.each(o.rules,function(r,n){var o=!1,p=n.fieldId,d=gfRepeater_getIndex(i.children,"idNum",p);if(d!==!1){var u=i.children[d],l=gfRepeater_select(e,t,a,d);if("checkbox"==u.type||"radio"==u.type)var c=gfRepeater_getChoiceValue(l),f=!0;else var g=gfRepeater_select(e,t,a,d,1),c=gfRepeater_getInputValue(g),f=!1}else{var _=jQuery("#field_"+e+"_"+p),h=_.find(":input").first();if(h.is(":checkbox, :radio"))var c=gfRepeater_getChoiceValue(_),f=!0;else var c=gfRepeater_getInputValue(h),f=!1}f&&(c=-1!==jQuery.inArray(n.value,c)?n.value:!1),o=gf_matches_operation(c,n.value,n.operator),s.push(o)}),"all"==o.logicType?-1==jQuery.inArray(!1,s)&&(d=!0):-1!==jQuery.inArray(!0,s)&&(d=!0),(d&&"show"!==o.actionType||!d&&"show"==o.actionType)&&(u=!0),"section"==n.type){var l=gfRepeater_getIndex(i.children,"parentSection",r,!0);l!==!1&&(p=p.concat(l))}jQuery.each(p,function(r,n){var o=i.children[n],p=o.conditionalLogic,s=gfRepeater_select(e,t,a,n),d=a;if(null==d&&(d="all"),s.length)if(u)s.hide(),p&&-1==jQuery.inArray(d,p.skip)&&p.skip.push(d);else if(s.show(),p&&-1!==jQuery.inArray(d,p.skip)){var l=p.skip.indexOf(d);p.skip.splice(l,1)}}),gfRepeater_updateDataElement(e,t)}function gfRepeater_doShortcode(e,t,r){e.find(".gfRepeater-shortcode-"+t).each(function(){jQuery(this).html(r)})}function gfRepeater_replaceShortcodes(e){var t=["count","buttons","add","remove"];jQuery.each(t,function(t,r){var a=e.html();e.html(a.replace("[gfRepeater-"+r+"]",'<span class="gfRepeater-shortcode-'+r+'"></span>'))})}function gfRepeater_repeatRepeater(e,t){function r(){gfRepeater_conditionalLogic_setAll(e,t,i),a.data.repeatCount+=1,gfRepeater_updateDataElement(e,t),gfRepeater_updateRepeaterControls(e,t),window.gformInitDatepicker&&gformInitDatepicker(),jQuery(a.controllers.start).parents("form").trigger("gform_repeater_after_repeat",[t,i]),gfRepeater_debug&&console.log("Form #"+e+" - Repeater #"+t+" - repeated")}gfRepeater_select(e,t).stop(!0,!0);var a=gfRepeater_repeaters[e][t],i=a.data.repeatCount+1;if(!(a.settings.max&&a.data.repeatCount>=a.settings.max)){jQuery(a.controllers.start).parents("form").trigger("gform_repeater_before_repeat",[t,i]);var n=a.settings.animations.add,o=gfRepeater_select(e,t).last(),p=gfRepeater_select(e,t,1);n.options.always=function(e,t){jQuery(this).removeClass("gf_repeater_child_field_adding "+n["class"]),jQuery(this).attr("data-repeater-childid")==p.length&&r()},jQuery.each(p,function(a,i){var s=jQuery(i).clone(),d=s.attr("data-repeater-childid");gfRepeater_resetInputs(e,t,d,s),gfRepeater_setRepeaterChildAttrs(e,t,s),n.options.duration>0?(s.addClass("gf_repeater_child_field_adding "+n["class"]).css(n.css).insertAfter(o).animate(n.properties,n.options),s.delay(n.options.duration).dequeue()):(s.insertAfter(o),d==p.length&&r()),o=s})}}function gfRepeater_unrepeatRepeater(e,t,r){function a(){i.data.repeatCount-=1,gfRepeater_updateDataElement(e,t),gfRepeater_updateRepeaterControls(e,t),r!==i.data.repeatCount+1&&gfRepeater_resetRepeaterChildrenAttrs(e,t),jQuery(i.controllers.start).parents("form").trigger("gform_repeater_after_unrepeat",[t,r]),gfRepeater_debug&&console.log("Form #"+e+" - Repeater #"+t+" - Repeat #"+r+" - unrepeated")}gfRepeater_select(e,t).stop(!0,!0);var i=gfRepeater_repeaters[e][t];if(!(i.data.repeatCount<=i.settings.min)){if(!r)var r=i.data.repeatCount;jQuery(i.controllers.start).parents("form").trigger("gform_repeater_before_unrepeat",[t,r]);var n=i.settings.animations.remove,o=gfRepeater_select(e,t,r);n.options.always=function(e,t){jQuery(this).remove(),jQuery(this).attr("data-repeater-childid")==o.length&&a()},jQuery.each(o,function(e,t){var r=jQuery(t),i=r.attr("data-repeater-childid");n.options.duration>0?(r.addClass("gf_repeater_child_field_removing "+n["class"]).css(n.css).animate(n.properties,n.options),r.delay(n.options.duration).dequeue()):(r.remove(),i==o.length&&a())})}}function gfRepeater_repeatRepeaterTimes(e,t,r){if(!r)var r=1;for(i=0;i<r;i++)gfRepeater_repeatRepeater(e,t)}function gfRepeater_unrepeatRepeaterTimes(e,t,r){if(!r)var r=1;for(i=0;i<r;i++)gfRepeater_unrepeatRepeater(e,t)}function gfRepeater_setRepeater(e,t,r){var a=gfRepeater_repeaters[e][t],i=a.data.repeatCount;if(r!=i)if(r>i){var n=r-i;gfRepeater_repeatRepeaterTimes(e,t,n)}else if(i>r){var n=i-r;gfRepeater_unrepeatRepeaterTimes(e,t,n)}}function gfRepeater_updateRepeaterControls(e,t){var r=gfRepeater_repeaters[e][t];r.settings.max&&(r.data.repeatCount>=r.settings.max?jQuery(r.controllers.add).hide():jQuery(r.controllers.add).show()),r.data.repeatCount<=r.settings.min?jQuery(r.controllers.remove).hide():jQuery(r.controllers.remove).show()}function gfRepeater_resetInputs(e,t,r,a){var i=gfRepeater_repeaters[e][t];jQuery.each(i.children[r].inputs,function(e,t){var r=this.id,i=this.name,n=this.defaultValue,o=gfRepeater_findElementByNameOrId(a,i,r);o&&gfRepeater_setInputValue(o,n)})}function gfRepeater_select(e,t,r,a,i){var n="div#gform_wrapper_"+e+">form#gform_"+e;return(t||r||a||i)&&(n+=">.gform_body .gform_fields>.gfield.gf_repeater_child_field"),t&&(n+="[data-repeater-parentid="+t+"]"),r&&(n+="[data-repeater-repeatid="+r+"]"),a&&(n+="[data-repeater-childid="+a+"]"),i&&(n+="*"==i?" [data-repeater-inputid]":" [data-repeater-inputid="+i+"]"),jQuery(n)}function gfRepeater_findElementByNameOrId(e,t,r){if(t)var a=jQuery(e).find("[name^='"+t+"']");if(!a&&r)var a=jQuery(e).find("[id^='"+r+"']");return a?a:!1}function gfRepeater_getIndex(e,t,r,a){var i=[];return jQuery.each(e,function(e,n){return n[t]!=r||(i.push(e),a)?void 0:!1}),i.length?a?i:i[0]:!1}function gfRepeater_getChoiceValue(e){var t=[];return jQuery(e).find(":checkbox, :radio").each(function(){if(1==jQuery(this).prop("checked")){var e=jQuery(this).val();t.push(e)}}),t}function gfRepeater_getInputValue(e){return e.is(":checkbox, :radio")?1==e.prop("checked")?!0:!1:e.val()}function gfRepeater_setInputValue(e,t){e.is(":checkbox, :radio")?t?e.prop("checked",!0):e.prop("checked",!1):e.val(t)}function gfRepeater_updateDataElement(e,t){var r=gfRepeater_repeaters[e][t],a=jQuery(r.controllers.data),i=jQuery(a).val();i&&(i=JSON.parse(i)),i.repeaterId=t,i.repeatCount=r.data.repeatCount,jQuery.each(i.children,function(e,t){Array.isArray(this)&&(i.children[e]={});var a=r.data.inputData[e];a.length&&(i.children[e].inputs=a);var n=gfRepeater_getIndex(r.children,"idNum",e);i.children[e].conditionalLogic=r.children[n].conditionalLogic}),i=JSON.stringify(i),jQuery(a).val(i)}function gfRepeater_start(){jQuery.each(gfRepeater_repeaters,function(e,t){var r=e,a=gfRepeater_select(r);jQuery.each(t,function(e,t){var a=e,i=gfRepeater_repeaters[r][a],n=i.settings.start,o=i.data.paremCount,p=i.data.startIdNum;i.controllers.data.attr("data-required")&&i.controllers.start.addClass("gfield_contains_required"),jQuery.each(i.children,function(e,t){gfRepeater_setRepeaterChildAttrs(r,a,jQuery(i.children[e].element),1),this.conditionalLogic&&gfRepeater_conditionalLogic_set(r,a,e,1)}),gfRepeater_submitted?n=i.data.prevRepeatCount:o>n&&(n=o),gfRepeater_setRepeater(r,a,n),gfRepeater_updateRepeaterControls(r,a),gfRepeater_updateDataElement(r,a),jQuery(document).bind("gform_post_conditional_logic",function(e,t,r,n){if(r&&-1!==jQuery.inArray(p,r)){var o=i.controllers.start,s=i.controllers.end,d=o.css("display"),u=gfRepeater_select(t,a);u.css("display",d),s.css("display",d)}})}),jQuery(a).trigger("gform_repeater_init_done")}),window.gformInitDatepicker&&gformInitDatepicker()}var gfRepeater_debug=gfRepeater_php.debug,gfRepeater_repeaters={},gfRepeater_submitted=!1,gfRepeater_init_done=!1;jQuery(document).bind("gform_post_render",function(){0==gfRepeater_init_done&&jQuery.isEmptyObject(gfRepeater_repeaters)&&(gfRepeater_getRepeaters()?(gfRepeater_start(),jQuery(window).trigger("gform_repeater_init_done")):alert("Notice to website owner: There was an error with one of your repeaters. This is usually caused by having ajax enabled on the form, forgetting to include a repeater-end field, or by trying to nest repeaters."),gfRepeater_init_done=!0)}),gfRepeater_debug&&jQuery(window).keydown(function(e){38==e.which&&console.log(gfRepeater_repeaters),40==e.which&&console.log(jQuery.captures())});